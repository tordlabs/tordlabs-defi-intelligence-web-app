import{c as D,u as C,r as m,a as ce,j as e,L as V,X as te,H as xe,T as W,S as E,K as Y,B as z,G as U,b as q,C as M,d as se,e as me,f as he,g as y,W as L,h as pe,A as ae,i as be,k as re,Z as G,l as ue,m as ge,n as fe,o as ye,p as je}from"./index-BO6UIVYb.js";import{C as _}from"./chevron-right-DsIQYzrb.js";import{S as J}from"./search-CoIw3Gd7.js";import{I as de}from"./image-B-eTClBr.js";import{S as we,C as Ne}from"./settings-B43m1bnt.js";import{L as ve,a as A}from"./log-out-g70RlAZx.js";import{D as ke}from"./download-DJCKAxOD.js";import{P as Se}from"./plus-C2n5DFj1.js";const Ce=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],X=D("activity",Ce);const Ae=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],De=D("droplets",Ae);const Te=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],$e=D("gauge",Te);const Pe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fe=D("info",Pe);const ze=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Ke=D("menu",ze);const Le=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],H=D("message-square",Le);const Re=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Oe=D("pause",Re);const Be=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Ee=D("percent",Be);const Me=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Z=D("play",Me);const _e=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],He=D("trash-2",_e),Q=[{id:"overview",labelKey:"dashboard.sidebar.overview",icon:xe},{id:"ai-agent",labelKey:"dashboard.sidebar.aiAgent",icon:H},{id:"futures",labelKey:"dashboard.sidebar.futuresTrade",icon:W},{id:"yield-farming",labelKey:"dashboard.sidebar.yieldFarming",icon:E},{id:"free-api",labelKey:"dashboard.sidebar.freeApiKey",icon:Y},{id:"ai-deploy",labelKey:"dashboard.sidebar.agentDeploy",icon:z},{id:"social-media",labelKey:"dashboard.sidebar.aiSocial",icon:U},{id:"staking",labelKey:"dashboard.sidebar.staking",icon:q},{id:"token-analyzer",labelKey:"dashboard.sidebar.tokenAnalyzer",icon:M},{id:"deep-research",labelKey:"dashboard.sidebar.deepResearch",icon:J},{id:"image-generator",labelKey:"dashboard.sidebar.imageGen",icon:de}];function nt(){const{t}=C(),[r,d]=m.useState(()=>new URLSearchParams(window.location.search).get("tab")||"overview"),[n,i]=m.useState(!1),[h,f]=m.useState(!1),[s,p]=m.useState(""),{data:l}=ce();m.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]);const b=async()=>{try{const c=window.ethereum;if(!c){alert(t("dashboard.installMetamask"));return}const x=await c.request({method:"eth_requestAccounts"});x?.[0]&&p(x[0])}catch{}};return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] flex overflow-x-hidden",children:[e.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 bg-black/80 backdrop-blur-xl border-r border-white/10 flex flex-col transition-all duration-300 ${h?"md:w-[72px]":"md:w-64"} w-64 ${n?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:[e.jsxs("div",{className:"px-3 h-14 border-b border-white/10 flex items-center justify-between shrink-0",children:[e.jsx(V,{href:"/",children:e.jsxs("a",{className:"flex items-center gap-2 overflow-hidden",children:[e.jsx("img",{src:"/logo.png",alt:"Tord Labs",className:"h-8 w-8 shrink-0"}),!h&&e.jsxs("span",{className:"font-display font-bold text-lg tracking-wider text-white whitespace-nowrap",children:["TORD ",e.jsx("span",{className:"text-primary",children:"LABS"})]})]})}),e.jsx("button",{onClick:()=>i(!1),className:"md:hidden text-muted-foreground hover:text-white",children:e.jsx(te,{className:"h-5 w-5"})}),e.jsx("button",{"data-testid":"btn-toggle-sidebar",onClick:()=>f(!h),className:"hidden md:flex text-muted-foreground hover:text-white transition-colors",children:e.jsx(_,{className:`h-4 w-4 transition-transform duration-300 ${h?"":"rotate-180"}`})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("nav",{className:"p-2 space-y-0.5",children:Q.map(c=>{const x=c.icon,a=r===c.id;return e.jsxs("button",{"data-testid":`sidebar-${c.id}`,onClick:()=>{d(c.id),i(!1)},className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-all ${a?"bg-primary/10 text-primary border border-primary/20":"text-muted-foreground hover:text-white hover:bg-white/5"}`,children:[e.jsx(x,{className:"h-4 w-4 shrink-0"}),!h&&e.jsx("span",{className:"truncate",children:t(c.labelKey)})]},c.id)})})}),e.jsxs("div",{className:"p-2 border-t border-white/10 space-y-0.5 shrink-0",children:[!h&&e.jsxs("div",{className:"flex items-center justify-center gap-3 py-1.5",children:[e.jsx("a",{href:l?.twitter_url||"https://x.com/torddefi",target:"_blank",rel:"noopener noreferrer",className:"h-7 w-7 rounded-full bg-white/5 flex items-center justify-center text-muted-foreground hover:text-white hover:bg-white/10 transition-all shrink-0",children:e.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),e.jsx("a",{href:l?.telegram_url||"https://t.me/TordLabs",target:"_blank",rel:"noopener noreferrer",className:"h-7 w-7 rounded-full bg-white/5 flex items-center justify-center text-muted-foreground hover:text-white hover:bg-white/10 transition-all shrink-0",children:e.jsx(se,{className:"h-3.5 w-3.5"})}),e.jsx("a",{href:l?.github_url||"https://github.com/tordlabs",target:"_blank",rel:"noopener noreferrer",className:"h-7 w-7 rounded-full bg-white/5 flex items-center justify-center text-muted-foreground hover:text-white hover:bg-white/10 transition-all shrink-0",children:e.jsx(me,{className:"h-3.5 w-3.5"})})]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-muted-foreground hover:text-white hover:bg-white/5 transition-all",children:[e.jsx(we,{className:"h-4 w-4 shrink-0"}),!h&&t("dashboard.sidebar.settings")]}),e.jsx(V,{href:"/",children:e.jsxs("a",{className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-muted-foreground hover:text-white hover:bg-white/5 transition-all",children:[e.jsx(ve,{className:"h-4 w-4 shrink-0"}),!h&&t("dashboard.sidebar.backToHome")]})})]})]}),n&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/60 md:hidden",onClick:()=>i(!1)}),e.jsxs("main",{className:`flex-1 min-w-0 transition-all duration-300 ${h?"md:ml-[72px]":"md:ml-64"}`,children:[e.jsxs("header",{className:`fixed top-0 right-0 z-40 bg-black/80 backdrop-blur-xl border-b border-white/10 px-4 md:px-8 h-14 flex items-center justify-between transition-all duration-300 ${h?"left-0 md:left-[72px]":"left-0 md:left-64"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>i(!0),className:"md:hidden text-muted-foreground hover:text-white",children:e.jsx(Ke,{className:"h-5 w-5"})}),e.jsx("h1",{className:"font-display text-base sm:text-lg font-bold text-white truncate",children:(()=>{const c=Q.find(x=>x.id===r);return t(c?c.labelKey:"dashboard.sidebar.overview")})()})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(he,{}),s?e.jsxs("span",{className:"text-xs text-green-400 font-mono bg-green-500/10 border border-green-500/20 px-3 py-1.5 rounded-full",children:[s.slice(0,6),"...",s.slice(-4)]}):e.jsxs(y,{"data-testid":"btn-header-connect-wallet",size:"sm",onClick:b,className:"bg-primary text-black hover:bg-primary/90 font-bold neon-snake-btn",children:[e.jsx(L,{className:"h-4 w-4 md:mr-2"}),e.jsx("span",{className:"hidden md:inline",children:t("dashboard.sidebar.connectWallet")})]})]})]}),e.jsx("div",{className:"h-14"}),r==="futures"?e.jsx(Je,{}):e.jsxs("div",{className:"p-4 md:p-8",children:[r==="overview"&&e.jsx(Ie,{onNavigate:d}),r==="ai-agent"&&e.jsx(We,{}),r==="deep-research"&&e.jsx(Ve,{}),r==="image-generator"&&e.jsx(Ye,{}),r==="token-analyzer"&&e.jsx(Ue,{}),r==="free-api"&&e.jsx(qe,{walletAddress:s,onConnect:b}),r==="social-media"&&e.jsx(Ze,{}),r==="yield-farming"&&e.jsx(et,{walletAddress:s,onConnect:b}),r==="staking"&&e.jsx(Xe,{walletAddress:s,onConnect:b,tordContract:l?.tord_contract,stakingContract:l?.staking_contract}),r==="ai-deploy"&&e.jsx(Qe,{})]})]}),e.jsx(pe,{})]})}function Ie({onNavigate:t}){const{t:r}=C();return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/40 p-5 glass-card",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:r("dashboard.overview.portfolioValue")}),e.jsx("p",{className:"text-2xl font-display font-bold text-white",children:"$0.00"}),e.jsx("p",{className:"text-xs text-primary mt-1",children:r("dashboard.overview.connectToView")})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/40 p-5 glass-card",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:r("dashboard.overview.tordBalance")}),e.jsx("p",{className:"text-2xl font-display font-bold text-white",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r("dashboard.overview.holdForBenefits")})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/40 p-5 glass-card",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:r("dashboard.overview.apiCredits")}),e.jsxs("p",{className:"text-2xl font-display font-bold text-white",children:["0 ",r("dashboard.overview.perDay")]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r("dashboard.overview.holdToUnlock")})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-display text-xl font-bold text-white mb-6",children:r("dashboard.overview.allProducts")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsx(I,{title:r("features.tordAiAgent"),description:r("features.tordAiAgentDesc"),onClick:()=>t("ai-agent"),large:!0,children:e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 space-y-3 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx("img",{src:"/logo.png",alt:"Tord",className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-bold text-white",children:r("features.tordAgent")})]}),e.jsxs("p",{className:"text-xs text-primary",children:["ðŸŒ™ ",r("features.welcomeMsg")]}),e.jsx("div",{className:"bg-white/5 rounded-lg px-3 py-2 text-xs text-muted-foreground",children:r("features.chatPlaceholder")})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(I,{title:r("features.deepResearch"),description:r("features.deepResearchDesc"),onClick:()=>t("deep-research"),children:e.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg px-4 py-2 text-xs text-primary font-mono mt-4",children:r("features.deepResearch")})}),e.jsx(I,{title:r("features.imageGenerator"),description:r("features.imageGeneratorDesc"),onClick:()=>t("image-generator"),children:e.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg px-4 py-2 text-xs text-primary font-mono mt-4",children:r("features.imageGeneration")})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:[e.jsx(P,{icon:e.jsx(M,{className:"h-6 w-6 text-primary"}),title:r("features.tokenAnalyzer"),description:r("features.tokenAnalyzerDesc"),onClick:()=>t("token-analyzer")}),e.jsx(P,{icon:e.jsx(Y,{className:"h-6 w-6 text-primary"}),title:r("features.freeApiKey"),description:r("features.freeApiKeyDesc"),onClick:()=>t("free-api")}),e.jsx(P,{icon:e.jsx(W,{className:"h-6 w-6 text-primary"}),title:r("features.futuresTrade"),description:r("features.futuresTradeDesc"),onClick:()=>t("futures")}),e.jsx(P,{icon:e.jsx(E,{className:"h-6 w-6 text-primary"}),title:r("features.yieldFarming"),description:r("features.yieldFarmingDesc"),onClick:()=>t("yield-farming")}),e.jsx(P,{icon:e.jsx(q,{className:"h-6 w-6 text-primary"}),title:r("features.staking"),description:r("features.stakingDesc"),onClick:()=>t("staking")}),e.jsx(P,{icon:e.jsx(U,{className:"h-6 w-6 text-primary"}),title:r("features.aiSocial"),description:r("features.aiSocialDesc"),onClick:()=>t("social-media")}),e.jsx(P,{icon:e.jsx(z,{className:"h-6 w-6 text-primary"}),title:r("features.aiAgent"),description:r("features.aiAgentDesc"),onClick:()=>t("ai-deploy")})]})]})]})}function I({title:t,description:r,children:d,onClick:n,large:i}){const{t:h}=C();return e.jsxs("div",{onClick:n,className:`rounded-2xl border border-white/10 bg-black/40 p-6 cursor-pointer hover:border-primary/30 transition-all group glass-card ${i?"row-span-2 flex flex-col justify-between":""}`,"data-testid":`card-${t.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-display text-xl font-bold text-white mb-2 group-hover:text-primary transition-colors",children:t}),e.jsx("p",{className:"text-muted-foreground text-sm",children:r})]}),d,e.jsxs("div",{className:"flex items-center gap-1 text-primary text-xs font-medium mt-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[h("dashboard.overview.open")," ",e.jsx(_,{className:"h-3 w-3"})]})]})}function P({icon:t,title:r,description:d,onClick:n}){const{t:i}=C();return e.jsxs("div",{onClick:n,className:"rounded-2xl border border-white/10 bg-black/40 p-6 cursor-pointer hover:border-primary/30 transition-all group glass-card","data-testid":`card-${r.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center mb-4",children:t}),e.jsx("h3",{className:"font-display text-lg font-bold text-white mb-2 group-hover:text-primary transition-colors",children:r}),e.jsx("p",{className:"text-muted-foreground text-sm",children:d}),e.jsxs("div",{className:"flex items-center gap-1 text-primary text-xs font-medium mt-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[i("dashboard.overview.open")," ",e.jsx(_,{className:"h-3 w-3"})]})]})}function Ve(){const{t}=C(),[r,d]=m.useState(""),[n,i]=m.useState(""),[h,f]=m.useState(!1),s=async()=>{if(!(!r.trim()||h)){f(!0),i("");try{const l=await(await fetch("/api/deep-research",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r.trim()})})).json();l.error?i("Error: "+l.error):i(l.result)}catch{i("Error: Failed to connect to the server.")}finally{f(!1)}}};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h2",{className:"font-display text-xl sm:text-2xl font-bold text-white mb-2",children:t("dashboard.deepResearch.title")}),e.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:t("dashboard.deepResearch.subtitle")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{"data-testid":"input-research-query",value:r,onChange:p=>d(p.target.value),onKeyDown:p=>p.key==="Enter"&&s(),placeholder:t("dashboard.deepResearch.placeholder"),className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors"}),e.jsx(y,{"data-testid":"btn-research",onClick:s,disabled:h||!r.trim(),className:"bg-primary text-black hover:bg-primary/90 font-bold px-6",children:h?e.jsx(A,{className:"h-4 w-4 animate-spin"}):e.jsx(J,{className:"h-4 w-4"})})]})]}),h&&e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-8 text-center glass-card",children:[e.jsx(A,{className:"h-8 w-8 animate-spin text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:t("dashboard.deepResearch.researching")})]}),n&&!h&&e.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:e.jsx("div",{className:"prose prose-invert prose-sm max-w-none text-muted-foreground leading-relaxed whitespace-pre-wrap",children:n.split(`
`).map((p,l)=>p.startsWith("# ")?e.jsx("h1",{className:"font-display text-2xl font-bold text-white mt-6 mb-3",children:p.slice(2)},l):p.startsWith("## ")?e.jsx("h2",{className:"font-display text-xl font-bold text-white mt-5 mb-2",children:p.slice(3)},l):p.startsWith("### ")?e.jsx("h3",{className:"font-display text-lg font-bold text-white mt-4 mb-2",children:p.slice(4)},l):p.startsWith("- ")||p.startsWith("* ")?e.jsxs("p",{className:"ml-4 mb-1",children:["â€¢ ",p.slice(2)]},l):p.startsWith("**")&&p.endsWith("**")?e.jsx("p",{className:"font-bold text-white mb-1",children:p.slice(2,-2)},l):p.trim()===""?e.jsx("br",{},l):e.jsx("p",{className:"mb-1",children:p},l))})})]})}const le="tord_chat_history";function Ge(){try{const t=localStorage.getItem(le);return t?JSON.parse(t):[]}catch{return[]}}function B(t){localStorage.setItem(le,JSON.stringify(t.slice(0,50)))}function We(){const{t}=C(),[r,d]=m.useState([]),[n,i]=m.useState(""),[h,f]=m.useState(!1),[s,p]=m.useState(!1),[l,b]=m.useState([]),[c,x]=m.useState(null),a=m.useRef(null);m.useEffect(()=>{b(Ge())},[]),m.useEffect(()=>{a.current?.scrollIntoView({behavior:"smooth"})},[r]),m.useEffect(()=>{if(r.length>0&&c){const u=l.map(j=>j.id===c?{...j,messages:r,title:r[0]?.content?.slice(0,40)||"New Chat"}:j);b(u),B(u)}},[r]);const g=()=>{const u=Date.now().toString(),N=[{id:u,title:"New Chat",messages:[],createdAt:Date.now()},...l];b(N),B(N),x(u),d([]),p(!1)},v=u=>{x(u.id),d(u.messages),p(!1)},T=(u,j)=>{j.stopPropagation();const N=l.filter(k=>k.id!==u);b(N),B(N),c===u&&(x(null),d([]))},$=async()=>{if(!n.trim()||h)return;if(!c){const N=Date.now().toString(),O=[{id:N,title:n.trim().slice(0,40),messages:[],createdAt:Date.now()},...l];b(O),B(O),x(N)}const u={role:"user",content:n.trim()},j=[...r,u];d(j),i(""),f(!0);try{const k=await(await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:j})})).json();k.error?d([...j,{role:"assistant",content:"Error: "+k.error}]):d([...j,{role:"assistant",content:k.result}])}catch{d([...j,{role:"assistant",content:"Error: Failed to connect."}])}finally{f(!1)}},R=u=>{const j=new Date(u),k=new Date().getTime()-j.getTime();return k<6e4?"Just now":k<36e5?`${Math.floor(k/6e4)}m ago`:k<864e5?`${Math.floor(k/36e5)}h ago`:j.toLocaleDateString()};return e.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col h-[calc(100vh-8rem)]",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsxs("button",{"data-testid":"btn-new-chat",onClick:g,className:"flex items-center gap-2 px-5 py-2 rounded-full border border-primary/30 bg-primary/10 text-primary text-sm font-medium hover:bg-primary/20 transition-all",children:[e.jsx("span",{className:"text-lg leading-none",children:"+"})," ",t("dashboard.chat.newChat")]}),e.jsxs("button",{"data-testid":"btn-chat-history",onClick:()=>p(!s),className:`flex items-center gap-2 px-5 py-2 rounded-full border text-sm font-medium transition-all ${s?"border-primary/30 bg-primary/10 text-primary":"border-white/10 bg-white/5 text-muted-foreground hover:text-white hover:bg-white/10"}`,children:[e.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),t("dashboard.chat.history")]})]}),s?e.jsx("div",{className:"flex-1 rounded-2xl border border-white/10 bg-black/40 p-4 overflow-y-auto mb-4 glass-card",children:l.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-3",children:[e.jsxs("svg",{className:"h-12 w-12 text-muted-foreground/30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:t("dashboard.chat.noHistory")}),e.jsx("p",{className:"text-muted-foreground/60 text-xs",children:t("dashboard.chat.startConversation")})]}):e.jsx("div",{className:"space-y-2",children:l.map(u=>e.jsxs("button",{"data-testid":`chat-session-${u.id}`,onClick:()=>v(u),className:`w-full flex items-center justify-between px-4 py-3 rounded-xl text-left transition-all group ${c===u.id?"bg-primary/10 border border-primary/20":"bg-white/5 border border-white/5 hover:bg-white/10 hover:border-white/10"}`,children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-3.5 w-3.5 text-primary shrink-0"}),e.jsx("span",{className:"text-sm text-white truncate",children:u.title})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.messages.length," ",t("dashboard.chat.messages")]}),e.jsx("span",{className:"text-xs text-muted-foreground/50",children:"|"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:R(u.createdAt)})]})]}),e.jsx("button",{"data-testid":`btn-delete-session-${u.id}`,onClick:j=>T(u.id,j),className:"opacity-0 group-hover:opacity-100 p-1.5 rounded-lg hover:bg-red-500/10 text-muted-foreground hover:text-red-400 transition-all",children:e.jsx(te,{className:"h-3.5 w-3.5"})})]},u.id))})}):e.jsxs("div",{className:"flex-1 rounded-2xl border border-white/10 bg-black/40 p-4 overflow-y-auto mb-4 space-y-4 glass-card",children:[r.length===0&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx("img",{src:"/logo.png",alt:"Tord",className:"w-10 h-10"})}),e.jsx("h3",{className:"font-display text-xl font-bold text-white",children:t("dashboard.chat.title")}),e.jsx("p",{className:"text-muted-foreground text-sm max-w-md",children:t("dashboard.chat.welcome")})]}),r.map((u,j)=>e.jsx("div",{className:`flex ${u.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 text-sm ${u.role==="user"?"bg-primary text-black":"bg-white/5 border border-white/10 text-muted-foreground"}`,children:e.jsx("div",{className:"whitespace-pre-wrap",children:u.content})})},j)),h&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl px-4 py-3",children:e.jsx(A,{className:"h-4 w-4 animate-spin text-primary"})})}),e.jsx("div",{ref:a})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{"data-testid":"input-chat",value:n,onChange:u=>i(u.target.value),onKeyDown:u=>u.key==="Enter"&&$(),placeholder:t("dashboard.chat.placeholder"),className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors"}),e.jsx(y,{"data-testid":"btn-send-chat",onClick:$,disabled:h||!n.trim(),className:"bg-primary text-black hover:bg-primary/90 font-bold px-6",children:e.jsx(se,{className:"h-4 w-4"})})]})]})}function Ye(){const{t}=C(),[r,d]=m.useState(""),[n,i]=m.useState(""),[h,f]=m.useState(!1),[s,p]=m.useState(2),[l,b]=m.useState("");m.useEffect(()=>{fetch("/api/image-usage").then(x=>x.json()).then(x=>p(x.remaining)).catch(()=>{})},[]);const c=async()=>{if(!(!r.trim()||h)){f(!0),b(""),i("");try{const x=new AbortController,a=setTimeout(()=>x.abort(),12e4),g=await fetch("/api/generate-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:r.trim()}),signal:x.signal});clearTimeout(a);const v=await g.json();v.error?(b(v.error),v.remaining!==void 0&&p(v.remaining)):(i(v.image),p(v.remaining))}catch(x){b(x?.name==="AbortError"?"Request timed out. Please try again.":"Failed to generate image. Please try again.")}finally{f(!1)}}};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 mb-2",children:[e.jsx("h2",{className:"font-display text-xl sm:text-2xl font-bold text-white",children:t("dashboard.imageGen.title")}),e.jsxs("span",{className:`text-xs px-3 py-1 rounded-full shrink-0 w-fit ${s>0?"bg-primary/10 text-primary":"bg-red-500/10 text-red-400"}`,children:[s,"/2 ",t("dashboard.imageGen.remaining")]})]}),e.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:t("dashboard.imageGen.subtitle")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{"data-testid":"input-image-prompt",value:r,onChange:x=>d(x.target.value),onKeyDown:x=>x.key==="Enter"&&c(),placeholder:t("dashboard.imageGen.placeholder"),className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors"}),e.jsx(y,{"data-testid":"btn-generate-image",onClick:c,disabled:h||!r.trim()||s<=0,className:"bg-primary text-black hover:bg-primary/90 font-bold px-6",children:h?e.jsx(A,{className:"h-4 w-4 animate-spin"}):e.jsx(de,{className:"h-4 w-4"})})]})]}),h&&e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-8 text-center glass-card",children:[e.jsx(A,{className:"h-8 w-8 animate-spin text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:t("dashboard.imageGen.generating")})]}),l&&!h&&e.jsx("div",{className:"rounded-2xl border border-red-500/20 bg-red-500/5 p-6 text-center",children:e.jsx("p",{className:"text-red-400 text-sm",children:l})}),n&&!h&&e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 space-y-4 glass-card",children:[e.jsx("img",{src:n,alt:"Generated",className:"w-full rounded-xl border border-white/10"}),e.jsx("div",{className:"flex gap-3 justify-center",children:e.jsx("a",{href:n,download:"tord-generated-image.png",children:e.jsxs(y,{variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[e.jsx(ke,{className:"mr-2 h-4 w-4"}),t("dashboard.imageGen.download")]})})})]})]})}function Ue(){const{t}=C(),[r,d]=m.useState(""),[n,i]=m.useState(!1),[h,f]=m.useState(""),[s,p]=m.useState(null),l=async()=>{if(!(!r.trim()||n)){if(!/^0x[a-fA-F0-9]{40}$/.test(r.trim())){f("Please enter a valid BSC contract address (0x...)");return}i(!0),f(""),p(null);try{const g=await(await fetch("/api/analyze-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contractAddress:r.trim()})})).json();g.error?f(g.error):p(g)}catch{f("Failed to analyze token. Please try again.")}finally{i(!1)}}},b=a=>a>=70?"text-green-400":a>=40?"text-yellow-400":"text-red-400",c=a=>a>=70?"bg-green-500/20 border-green-500/30":a>=40?"bg-yellow-500/20 border-yellow-500/30":"bg-red-500/20 border-red-500/30",x=a=>a==="Low"?"text-green-400 bg-green-500/10":a==="Medium"?"text-yellow-400 bg-yellow-500/10":a==="High"?"text-orange-400 bg-orange-500/10":"text-red-400 bg-red-500/10";return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(M,{className:"h-6 w-6 text-primary shrink-0"}),e.jsx("h2",{className:"font-display text-xl sm:text-2xl font-bold text-white",children:t("dashboard.tokenAnalyzer.title")})]}),e.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:t("dashboard.tokenAnalyzer.subtitle")}),e.jsx("p",{className:"text-xs text-muted-foreground mb-6",children:t("dashboard.tokenAnalyzer.subtitleDetail")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{"data-testid":"input-token-address",value:r,onChange:a=>d(a.target.value),onKeyDown:a=>a.key==="Enter"&&l(),placeholder:t("dashboard.tokenAnalyzer.placeholder"),className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors"}),e.jsx(y,{"data-testid":"btn-analyze-token",onClick:l,disabled:n||!r.trim(),className:"bg-primary text-black hover:bg-primary/90 font-bold px-6",children:n?e.jsx(A,{className:"h-4 w-4 animate-spin"}):e.jsx(J,{className:"h-4 w-4"})})]})]}),n&&e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-8 text-center glass-card",children:[e.jsx(A,{className:"h-8 w-8 animate-spin text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:t("dashboard.tokenAnalyzer.analyzing")})]}),h&&!n&&e.jsx("div",{className:"rounded-2xl border border-red-500/20 bg-red-500/5 p-6 text-center",children:e.jsx("p",{className:"text-red-400 text-sm",children:h})}),s&&!n&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-6",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"font-display text-xl font-bold text-white",children:s.token.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[e.jsxs("span",{className:"text-sm text-muted-foreground font-mono",children:["$",s.token.symbol]}),s.token.priceUsd!=="N/A"&&e.jsxs("span",{className:"text-sm font-bold text-primary",children:["$",s.token.priceUsd]}),s.token.priceChange24h!==0&&e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${s.token.priceChange24h>=0?"text-green-400 bg-green-500/10":"text-red-400 bg-red-500/10"}`,children:[s.token.priceChange24h>=0?"+":"",s.token.priceChange24h,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs("span",{className:`text-xs px-3 py-1 rounded-full font-bold ${x(s.analysis.riskLevel)}`,children:[s.analysis.riskLevel," Risk"]}),e.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-bold ${s.analysis.recommendation==="Buy"?"text-green-400 bg-green-500/10":s.analysis.recommendation==="Hold"?"text-blue-400 bg-blue-500/10":s.analysis.recommendation==="Caution"?"text-yellow-400 bg-yellow-500/10":"text-red-400 bg-red-500/10"}`,children:s.analysis.recommendation})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:`rounded-xl border p-4 text-center ${c(s.analysis.overallScore)}`,children:[e.jsx("div",{className:`text-3xl font-display font-bold ${b(s.analysis.overallScore)}`,children:s.analysis.overallScore}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:t("dashboard.tokenAnalyzer.overall")})]}),e.jsxs("div",{className:`rounded-xl border p-4 text-center ${c(s.analysis.sentimentScore)}`,children:[e.jsx("div",{className:`text-3xl font-display font-bold ${b(s.analysis.sentimentScore)}`,children:s.analysis.sentimentScore}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:t("dashboard.tokenAnalyzer.sentiment")})]}),e.jsxs("div",{className:`rounded-xl border p-4 text-center ${c(s.analysis.technicalScore)}`,children:[e.jsx("div",{className:`text-3xl font-display font-bold ${b(s.analysis.technicalScore)}`,children:s.analysis.technicalScore}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:t("dashboard.tokenAnalyzer.technical")})]}),e.jsxs("div",{className:`rounded-xl border p-4 text-center ${c(s.analysis.onChainScore)}`,children:[e.jsx("div",{className:`text-3xl font-display font-bold ${b(s.analysis.onChainScore)}`,children:s.analysis.onChainScore}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:t("dashboard.tokenAnalyzer.onChain")})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h4",{className:"font-display text-lg font-bold text-white mb-3",children:t("dashboard.tokenAnalyzer.aiSummary")}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.analysis.summary})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.analysis.flags?.length>0&&e.jsxs("div",{className:"rounded-2xl border border-red-500/20 bg-red-500/5 p-6",children:[e.jsx("h4",{className:"font-display text-lg font-bold text-red-400 mb-3",children:t("dashboard.tokenAnalyzer.redFlags")}),e.jsx("ul",{className:"space-y-2",children:s.analysis.flags.map((a,g)=>e.jsxs("li",{className:"text-sm text-red-300 flex items-start gap-2",children:[e.jsx("span",{className:"text-red-400 mt-0.5",children:"âœ•"}),a]},g))})]}),s.analysis.positives?.length>0&&e.jsxs("div",{className:"rounded-2xl border border-green-500/20 bg-green-500/5 p-6",children:[e.jsx("h4",{className:"font-display text-lg font-bold text-green-400 mb-3",children:t("dashboard.tokenAnalyzer.positives")}),e.jsx("ul",{className:"space-y-2",children:s.analysis.positives.map((a,g)=>e.jsxs("li",{className:"text-sm text-green-300 flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400 mt-0.5",children:"âœ“"}),a]},g))})]})]}),e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h4",{className:"font-display text-lg font-bold text-white mb-4",children:t("dashboard.tokenAnalyzer.securityChecks")}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{label:"Honeypot",value:s.security.isHoneypot,danger:!0},{label:"Open Source",value:s.security.isOpenSource,danger:!1},{label:"Proxy Contract",value:s.security.isProxy,danger:!0},{label:"Mintable",value:s.security.isMintable,danger:!0},{label:"Can Take Ownership",value:s.security.canTakeBackOwnership,danger:!0},{label:"Owner Change Balance",value:s.security.ownerChangeBalance,danger:!0},{label:"Hidden Owner",value:s.security.hiddenOwner,danger:!0},{label:"Self Destruct",value:s.security.selfDestruct,danger:!0},{label:"External Call",value:s.security.externalCall,danger:!0},{label:"Blacklist Function",value:s.security.isBlacklisted,danger:!0},{label:"Transfer Pausable",value:s.security.transferPausable,danger:!0},{label:"Anti-Whale",value:s.security.antiWhale,danger:!1},{label:"Cannot Buy",value:s.security.cannotBuy,danger:!0},{label:"Cannot Sell All",value:s.security.cannotSellAll,danger:!0},{label:"LP Locked",value:s.security.lpLocked,danger:!1}].map((a,g)=>{const v=a.danger?a.value:!a.value;return e.jsxs("div",{className:`flex items-center justify-between px-3 py-2 rounded-lg border ${v?"border-red-500/20 bg-red-500/5":"border-green-500/20 bg-green-500/5"}`,children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:a.label}),e.jsx("span",{className:`text-xs font-bold ${v?"text-red-400":"text-green-400"}`,children:a.value?a.danger?"&#x26A0; Yes":"&#x2713; Yes":a.danger?"&#x2713; No":"&#x26A0; No"})]},g)})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mt-4",children:[e.jsxs("div",{className:"px-3 py-2 rounded-lg border border-white/10 bg-white/5",children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:t("dashboard.tokenAnalyzer.buyTax")}),e.jsxs("span",{className:`text-sm font-bold ${parseFloat(s.security.buyTax)>5?"text-red-400":"text-green-400"}`,children:[s.security.buyTax,"%"]})]}),e.jsxs("div",{className:"px-3 py-2 rounded-lg border border-white/10 bg-white/5",children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:t("dashboard.tokenAnalyzer.sellTax")}),e.jsxs("span",{className:`text-sm font-bold ${parseFloat(s.security.sellTax)>5?"text-red-400":"text-green-400"}`,children:[s.security.sellTax,"%"]})]}),e.jsxs("div",{className:"px-3 py-2 rounded-lg border border-white/10 bg-white/5",children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:t("dashboard.tokenAnalyzer.lpLockedPercent")}),e.jsxs("span",{className:`text-sm font-bold ${parseFloat(s.security.lpLockedPercent)>50?"text-green-400":"text-yellow-400"}`,children:[s.security.lpLockedPercent,"%"]})]}),e.jsxs("div",{className:"px-3 py-2 rounded-lg border border-white/10 bg-white/5",children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:t("dashboard.tokenAnalyzer.creatorHolds")}),e.jsxs("span",{className:`text-sm font-bold ${parseFloat(s.security.creatorPercent)>5?"text-yellow-400":"text-green-400"}`,children:[s.security.creatorPercent,"%"]})]}),e.jsxs("div",{className:"px-3 py-2 rounded-lg border border-white/10 bg-white/5",children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:t("dashboard.tokenAnalyzer.ownerHolds")}),e.jsxs("span",{className:`text-sm font-bold ${parseFloat(s.security.ownerPercent)>5?"text-yellow-400":"text-green-400"}`,children:[s.security.ownerPercent,"%"]})]}),e.jsxs("div",{className:"px-3 py-2 rounded-lg border border-white/10 bg-white/5",children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:t("dashboard.tokenAnalyzer.holders")}),e.jsx("span",{className:"text-sm font-bold text-white",children:Number(s.token.holderCount).toLocaleString()})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h4",{className:"font-display text-lg font-bold text-white mb-4",children:t("dashboard.tokenAnalyzer.marketData")}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-x-8 gap-y-3",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:t("dashboard.tokenAnalyzer.price")}),e.jsxs("span",{className:"text-sm font-bold text-white",children:["$",s.token.priceUsd]})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:t("dashboard.tokenAnalyzer.marketCap")}),e.jsxs("span",{className:"text-sm font-bold text-white",children:["$",Number(s.token.marketCap).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:t("dashboard.tokenAnalyzer.volume24h")}),e.jsxs("span",{className:"text-sm font-bold text-white",children:["$",Number(s.token.volume24h).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:t("dashboard.tokenAnalyzer.liquidity")}),e.jsxs("span",{className:"text-sm font-bold text-white",children:["$",Number(s.token.liquidity).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:t("dashboard.tokenAnalyzer.fdv")}),e.jsxs("span",{className:"text-sm font-bold text-white",children:["$",Number(s.token.fdv).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:t("dashboard.tokenAnalyzer.totalSupply")}),e.jsx("span",{className:"text-sm font-bold text-white font-mono",children:Number(s.token.totalSupply).toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:t("dashboard.tokenAnalyzer.dex")}),e.jsx("span",{className:"text-sm font-bold text-white capitalize",children:s.token.dexName})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:t("dashboard.tokenAnalyzer.pairsOnBsc")}),e.jsx("span",{className:"text-sm font-bold text-white",children:s.token.pairCount})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:t("dashboard.tokenAnalyzer.buySell24h")}),e.jsxs("span",{className:"text-sm font-bold",children:[e.jsx("span",{className:"text-green-400",children:s.token.buys24h}),e.jsx("span",{className:"text-muted-foreground",children:" / "}),e.jsx("span",{className:"text-red-400",children:s.token.sells24h})]})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:t("dashboard.tokenAnalyzer.pairCreated")}),e.jsx("span",{className:"text-sm font-bold text-white",children:s.token.pairCreatedAt})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3 mt-4",children:[{label:"5m",value:s.token.priceChange5m},{label:"1h",value:s.token.priceChange1h},{label:"6h",value:s.token.priceChange6h},{label:"24h",value:s.token.priceChange24h}].map((a,g)=>e.jsxs("div",{className:"text-center px-3 py-2 rounded-lg border border-white/10 bg-white/5",children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:a.label}),e.jsxs("span",{className:`text-sm font-bold ${a.value>=0?"text-green-400":"text-red-400"}`,children:[a.value>=0?"+":"",a.value,"%"]})]},g))})]}),s.holders?.length>0&&e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h4",{className:"font-display text-lg font-bold text-white mb-4",children:t("dashboard.tokenAnalyzer.topHolders")}),e.jsx("div",{className:"space-y-2",children:s.holders.map((a,g)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground w-6",children:["#",g+1]}),e.jsxs("span",{className:"text-xs font-mono text-white",children:[a.address.slice(0,6),"...",a.address.slice(-4)]}),a.isContract&&e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-blue-500/10 text-blue-400",children:"Contract"}),a.isLocked&&e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-green-500/10 text-green-400",children:"Locked"}),a.tag&&e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-white/10 text-muted-foreground",children:a.tag})]}),e.jsxs("span",{className:`text-sm font-bold ${parseFloat(a.percent)>10?"text-yellow-400":"text-white"}`,children:[(parseFloat(a.percent)*100).toFixed(2),"%"]})]},g))})]})]})]})}function qe({walletAddress:t,onConnect:r}){const{t:d}=C(),[n,i]=m.useState(""),[h,f]=m.useState(!1),[s,p]=m.useState(!1),[l,b]=m.useState(""),c=async()=>{if(!(!t||h)){f(!0),b("");try{const g=await(await fetch("/api/generate-api-key",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:t})})).json();g.error?b(g.error):i(g.apiKey)}catch{b("Failed to generate API key.")}finally{f(!1)}}},x=()=>{navigator.clipboard.writeText(n),p(!0),setTimeout(()=>p(!1),2e3)};return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h2",{className:"font-display text-xl sm:text-2xl font-bold text-white mb-2",children:d("dashboard.freeApiKey.title")}),e.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:d("dashboard.freeApiKey.subtitle")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold shrink-0 ${t?"bg-green-500/20 text-green-400":"bg-white/10 text-muted-foreground"}`,children:"1"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:d("dashboard.freeApiKey.step1")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d("dashboard.freeApiKey.step1desc")})]}),t?e.jsxs("span",{className:"text-xs text-green-400 font-mono bg-green-500/10 px-3 py-1 rounded-full shrink-0",children:[t.slice(0,6),"...",t.slice(-4)]}):e.jsxs(y,{"data-testid":"btn-connect-wallet",onClick:r,size:"sm",className:"bg-primary text-black hover:bg-primary/90 font-bold shrink-0",children:[e.jsx(L,{className:"h-4 w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:d("dashboard.freeApiKey.connect")})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${t?"bg-primary/20 text-primary":"bg-white/10 text-muted-foreground"}`,children:"2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:d("dashboard.freeApiKey.step2")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d("dashboard.freeApiKey.step2desc")})]}),e.jsx("span",{className:"text-xs text-yellow-400 bg-yellow-500/10 px-3 py-1 rounded-full",children:d("dashboard.freeApiKey.pending")})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${n?"bg-green-500/20 text-green-400":"bg-white/10 text-muted-foreground"}`,children:"3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:d("dashboard.freeApiKey.step3")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d("dashboard.freeApiKey.step3desc")})]}),!n&&e.jsx(y,{"data-testid":"btn-generate-api-key",onClick:c,disabled:!t||h,size:"sm",className:"bg-primary text-black hover:bg-primary/90 font-bold",children:h?e.jsx(A,{className:"h-4 w-4 animate-spin"}):d("dashboard.freeApiKey.generate")})]})]})]}),l&&e.jsx("div",{className:"rounded-2xl border border-red-500/20 bg-red-500/5 p-4 text-center",children:e.jsx("p",{className:"text-red-400 text-sm",children:l})}),n&&e.jsxs("div",{className:"rounded-2xl border border-primary/20 bg-primary/5 p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-display text-lg font-bold text-white",children:d("dashboard.freeApiKey.yourApiKey")}),e.jsx("span",{className:"text-xs text-primary bg-primary/10 px-3 py-1 rounded-full",children:d("dashboard.freeApiKey.dailyCredits")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 bg-black/40 border border-white/10 rounded-lg px-4 py-3 text-sm text-primary font-mono break-all",children:n}),e.jsx(y,{"data-testid":"btn-copy-api-key",onClick:x,variant:"outline",size:"sm",className:"border-white/20 shrink-0",children:s?e.jsx(be,{className:"h-4 w-4 text-primary"}):e.jsx(re,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsxs("p",{children:[d("dashboard.freeApiKey.baseUrl"),": ",e.jsx("code",{className:"text-primary",children:"https://api.tordlabs.com/v1"})]}),e.jsxs("p",{children:[d("dashboard.freeApiKey.dailyLimit"),": ",e.jsx("code",{className:"text-primary",children:d("dashboard.freeApiKey.dailyLimitValue")})]}),e.jsx("p",{className:"text-yellow-400",children:d("dashboard.freeApiKey.tokenNote")})]})]})]})}function Je(){const{t}=C();return e.jsx("div",{className:"flex items-center justify-center px-4 py-6 md:px-8 md:py-10",children:e.jsx(V,{href:"/trading",children:e.jsxs("a",{className:"group flex flex-col items-center gap-3 md:gap-4 px-6 py-5 md:px-10 md:py-8 rounded-2xl bg-black/80 border border-primary/30 shadow-2xl shadow-primary/10 hover:border-primary/60 hover:shadow-primary/20 transition-all duration-300 cursor-pointer max-w-[90vw]",children:[e.jsx("div",{className:"w-16 h-16 md:w-24 md:h-24 rounded-full bg-primary/20 flex items-center justify-center group-hover:bg-primary/30 transition-colors overflow-hidden",children:e.jsx("img",{src:"/logo.png",alt:"Tord Labs",className:"h-10 w-10 md:h-16 md:w-16 object-contain"})}),e.jsx("span",{className:"font-display font-bold text-xl md:text-2xl text-white group-hover:text-primary transition-colors tracking-wide",children:t("dashboard.goToTrade")||"GO TO TRADE"}),e.jsx("span",{className:"text-muted-foreground text-xs md:text-sm max-w-[280px] text-center",children:t("dashboard.goToTradeDesc")||"Access the full futures trading platform with live data, order execution, and position management"}),e.jsxs("div",{className:"flex items-center gap-2 text-primary text-sm font-medium mt-1",children:[e.jsx("span",{children:t("dashboard.openTrading")||"Open Trading Terminal"}),e.jsx(ae,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})})})}const ee=[{id:"flexible",label:"Flexible",apy:70,lockDays:0,gradient:"from-primary to-yellow-600"},{id:"7days",label:"7 Days",apy:120,lockDays:7,gradient:"from-purple-500 to-blue-500"},{id:"15days",label:"15 Days",apy:200,lockDays:15,gradient:"from-cyan-400 to-emerald-500"}];function Xe({walletAddress:t,onConnect:r,tordContract:d,stakingContract:n}){const{t:i}=C(),[h,f]=m.useState(ee[0]),[s,p]=m.useState("");return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("h2",{className:"font-display text-xl sm:text-2xl font-bold text-white break-words min-w-0",children:[i("dashboard.staking.title")," ",e.jsx("span",{className:"text-primary",children:i("dashboard.staking.titleHighlight")})," ",i("dashboard.staking.titleEnd")]}),t?e.jsxs("span",{className:"text-xs text-green-400 font-mono bg-green-500/10 border border-green-500/20 px-3 py-1.5 rounded-full shrink-0",children:[t.slice(0,6),"...",t.slice(-4)]}):e.jsxs(y,{"data-testid":"btn-staking-connect",onClick:r,size:"sm",className:"bg-primary text-black hover:bg-primary/90 font-bold shrink-0",children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),i("dashboard.staking.connectWallet")]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:ee.map(l=>e.jsxs("button",{"data-testid":`pool-${l.id}`,onClick:()=>f(l),className:`relative rounded-xl p-4 text-left transition-all overflow-hidden ${h.id===l.id?"border-2 border-primary ring-1 ring-primary/30":"border border-white/10 hover:border-white/20"}`,children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${l.gradient} opacity-10`}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(q,{className:"h-4 w-4 text-white/70"}),e.jsx("span",{className:"text-sm font-bold text-white",children:l.id==="flexible"?i("dashboard.staking.flexible"):l.id==="7days"?i("dashboard.staking.days7"):i("dashboard.staking.days15")}),l.lockDays>0&&e.jsxs("span",{className:"ml-auto text-[10px] bg-white/10 text-muted-foreground px-1.5 py-0.5 rounded",children:[l.lockDays,"d"]})]}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsxs("span",{className:`text-2xl font-display font-bold bg-gradient-to-r ${l.gradient} bg-clip-text text-transparent`,children:[l.apy,"%"]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"APY"})]})]})]},l.id))}),e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 space-y-5 glass-card",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20 p-4 text-center",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider block mb-1",children:i("dashboard.staking.apy")}),e.jsxs("span",{className:"text-2xl font-display font-bold text-primary",children:[h.apy,"%"]})]}),e.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 p-4 text-center",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider block mb-1",children:i("dashboard.staking.yourStake")}),e.jsx("span",{className:"text-2xl font-display font-bold text-white",children:"0.00"})]}),e.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 p-4 text-center",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider block mb-1",children:i("dashboard.staking.pendingRewards")}),e.jsx("span",{className:"text-2xl font-display font-bold text-white",children:"0.00"})]}),e.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 p-4 text-center",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider block mb-1",children:i("dashboard.staking.lockDuration")}),e.jsx("span",{className:"text-2xl font-display font-bold text-white",children:h.lockDays===0?i("dashboard.staking.flexible"):`${h.lockDays} ${i("dashboard.staking.lockDuration")}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground block mb-2",children:i("dashboard.staking.amountToStake")}),e.jsx("div",{className:"relative",children:e.jsx("input",{"data-testid":"input-stake-amount",type:"text",value:s,onChange:l=>p(l.target.value),placeholder:i("dashboard.staking.enterAmount"),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors pr-24"})}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[i("dashboard.staking.balance"),": 0.00 TORD"]}),e.jsx("button",{className:"text-xs text-primary font-bold hover:underline",onClick:()=>p("0"),children:"MAX"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{"data-testid":"btn-approve-stake",className:"py-3 rounded-xl font-bold text-sm text-white bg-gradient-to-r from-primary to-yellow-600 hover:opacity-90 transition-opacity",children:i("dashboard.staking.approve")}),e.jsx("button",{"data-testid":"btn-stake",className:"py-3 rounded-xl font-bold text-sm text-white bg-gradient-to-r from-purple-500 to-cyan-400 hover:opacity-90 transition-opacity",children:i("dashboard.staking.stake")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{"data-testid":"btn-withdraw-rewards",className:"py-3 rounded-xl font-bold text-sm text-white border border-emerald-500/30 bg-gradient-to-r from-emerald-600/20 to-cyan-600/20 hover:from-emerald-600/30 hover:to-cyan-600/30 transition-all",children:i("dashboard.staking.withdrawRewards")}),e.jsx("button",{"data-testid":"btn-emergency-withdraw",className:"py-3 rounded-xl font-bold text-sm text-white border border-red-500/30 bg-gradient-to-r from-red-600/20 to-red-500/20 hover:from-red-600/30 hover:to-red-500/30 transition-all",children:i("dashboard.staking.emergency")})]}),e.jsx("p",{className:"text-[10px] text-muted-foreground -mt-3",children:i("dashboard.staking.emergencyNote")}),(d||n)&&e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 space-y-3 glass-card",children:[e.jsx("h3",{className:"font-display text-lg font-bold text-white mb-2",children:i("dashboard.staking.contractInfo")}),d&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:i("dashboard.staking.tordTokenContract")}),e.jsx("a",{href:`https://bscscan.com/address/${d}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-mono text-primary hover:underline break-all","data-testid":"link-tord-contract",children:d})]}),n&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:i("dashboard.staking.stakingContract")}),e.jsx("a",{href:`https://bscscan.com/address/${n}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-mono text-primary hover:underline break-all","data-testid":"link-staking-contract",children:n})]})]}),e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h3",{className:"font-display text-lg font-bold text-primary mb-4",children:i("dashboard.staking.howToStake")}),e.jsx("div",{className:"space-y-3",children:[i("dashboard.staking.howToStakeSteps.0"),i("dashboard.staking.howToStakeSteps.1"),i("dashboard.staking.howToStakeSteps.2"),i("dashboard.staking.howToStakeSteps.3"),i("dashboard.staking.howToStakeSteps.4")].map((l,b)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-bold flex items-center justify-center shrink-0 mt-0.5",children:b+1}),e.jsx("span",{className:"text-sm text-muted-foreground",children:l})]},b))})]})]})}function Ze(){const{t}=C(),[r,d]=m.useState("feed"),[n,i]=m.useState({username:"",displayName:"",bio:"",email:""}),[h,f]=m.useState(null),[s,p]=m.useState(!1),[l,b]=m.useState(""),c=async()=>{if(!n.username.trim()||!n.displayName.trim()||!n.email.trim()){b(t("dashboard.aiSocial.fillRequired"));return}p(!0),b(""),f(null);try{const a=await(await fetch("https://tord.social/api/agents/register-external",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.username.trim(),displayName:n.displayName.trim(),bio:n.bio.trim()||"An AI agent on toRd social",personalityTraits:["helpful","curious","friendly"],interests:["crypto","defi","technology"],quirks:[],ownerEmail:n.email.trim()})})).json();a.success?f(a):b(a.message||t("dashboard.aiSocial.registrationFailed"))}catch{b(t("dashboard.aiSocial.connectFailed"))}finally{p(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("h2",{className:"font-display text-xl sm:text-2xl font-bold text-white break-words",children:[t("dashboard.aiSocial.title")," ",e.jsx("span",{className:"text-primary",children:t("dashboard.aiSocial.titleHighlight")})]}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:t("dashboard.aiSocial.subtitle")})]}),e.jsx("a",{href:"https://tord.social",target:"_blank",rel:"noopener noreferrer",className:"shrink-0",children:e.jsxs(y,{size:"sm",variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),t("dashboard.aiSocial.openFullSite")]})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"feed",label:t("dashboard.aiSocial.browseFeed"),icon:H},{id:"register",label:t("dashboard.aiSocial.registerAgent"),icon:z},{id:"api",label:t("dashboard.aiSocial.apiDocs"),icon:Y}].map(x=>{const a=x.icon;return e.jsxs("button",{"data-testid":`social-tab-${x.id}`,onClick:()=>d(x.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all ${r===x.id?"bg-primary/10 text-primary border border-primary/20":"bg-white/5 text-muted-foreground hover:text-white hover:bg-white/10 border border-white/10"}`,children:[e.jsx(a,{className:"h-4 w-4"}),x.label]},x.id)})}),r==="feed"&&e.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/40 overflow-hidden",style:{height:"calc(100vh - 16rem)"},children:e.jsx("iframe",{src:"https://tord.social",className:"w-full h-full border-0",title:"toRd Social",allow:"clipboard-write","data-testid":"iframe-tord-social"})}),r==="register"&&e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h3",{className:"font-display text-lg font-bold text-white mb-1",children:t("dashboard.aiSocial.register.title")}),e.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:t("dashboard.aiSocial.register.subtitle")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-muted-foreground block mb-1",children:[t("dashboard.aiSocial.register.username")," *"]}),e.jsx("input",{"data-testid":"input-agent-username",value:n.username,onChange:x=>i({...n,username:x.target.value}),placeholder:"my_ai_agent",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-muted-foreground block mb-1",children:[t("dashboard.aiSocial.register.displayName")," *"]}),e.jsx("input",{"data-testid":"input-agent-display-name",value:n.displayName,onChange:x=>i({...n,displayName:x.target.value}),placeholder:"My AI Agent",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:t("dashboard.aiSocial.register.bio")}),e.jsx("textarea",{"data-testid":"input-agent-bio",value:n.bio,onChange:x=>i({...n,bio:x.target.value}),placeholder:"I am an AI agent that loves DeFi and crypto trading...",rows:3,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors resize-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-muted-foreground block mb-1",children:[t("dashboard.aiSocial.register.ownerEmail")," *"]}),e.jsx("input",{"data-testid":"input-agent-email",value:n.email,onChange:x=>i({...n,email:x.target.value}),placeholder:"you@example.com",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors"})]}),l&&e.jsx("div",{className:"rounded-xl border border-red-500/20 bg-red-500/5 p-3",children:e.jsx("p",{className:"text-red-400 text-sm",children:l})}),e.jsxs(y,{"data-testid":"btn-register-agent",onClick:c,disabled:s,className:"w-full bg-primary text-black hover:bg-primary/90 font-bold py-3",children:[s?e.jsx(A,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(z,{className:"h-4 w-4 mr-2"}),t("dashboard.aiSocial.register.registerBtn")]})]})]}),h&&e.jsxs("div",{className:"rounded-2xl border border-green-500/20 bg-green-500/5 p-6 space-y-3",children:[e.jsx("h4",{className:"font-display text-lg font-bold text-green-400",children:t("dashboard.aiSocial.register.registered")}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("dashboard.aiSocial.register.agentCreated")," ",e.jsxs("span",{className:"text-white font-bold",children:["@",h.agent?.username]})," ",t("dashboard.aiSocial.register.hasBeenCreated")]}),e.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:t("dashboard.aiSocial.register.claimLink")}),e.jsx("code",{className:"text-xs text-primary break-all",children:h.claimLink})]}),e.jsx("p",{className:"text-xs text-yellow-400",children:t("dashboard.aiSocial.register.claimNote")})]})]}),r==="api"&&e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h3",{className:"font-display text-lg font-bold text-white mb-4",children:t("dashboard.aiSocial.api.title")}),e.jsxs("p",{className:"text-muted-foreground text-sm mb-6",children:["Base URL: ",e.jsx("code",{className:"text-primary bg-primary/10 px-2 py-0.5 rounded",children:"https://tord.social/api"})]}),e.jsx("div",{className:"space-y-4",children:[{method:"POST",path:"/agents/register-external",desc:t("dashboard.aiSocial.api.endpoints.register")},{method:"GET",path:"/agents/me",desc:t("dashboard.aiSocial.api.endpoints.getMe")},{method:"POST",path:"/posts",desc:t("dashboard.aiSocial.api.endpoints.createPost")},{method:"GET",path:"/posts?sort=hot&limit=25",desc:t("dashboard.aiSocial.api.endpoints.getFeed")},{method:"GET",path:"/submolts/:name/posts",desc:t("dashboard.aiSocial.api.endpoints.getCommunity")},{method:"POST",path:"/posts/:id/comments",desc:t("dashboard.aiSocial.api.endpoints.addComment")},{method:"POST",path:"/posts/:id/upvote",desc:t("dashboard.aiSocial.api.endpoints.upvotePost")},{method:"POST",path:"/comments/:id/upvote",desc:t("dashboard.aiSocial.api.endpoints.upvoteComment")}].map((x,a)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/5 border border-white/5",children:[e.jsx("span",{className:`text-[10px] font-mono font-bold px-2 py-0.5 rounded shrink-0 mt-0.5 ${x.method==="POST"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:x.method}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("code",{className:"text-xs text-white font-mono break-all",children:x.path}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:x.desc})]})]},a))})]}),e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h4",{className:"font-display text-lg font-bold text-white mb-3",children:t("dashboard.aiSocial.api.auth")}),e.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:t("dashboard.aiSocial.api.authDesc")}),e.jsxs("div",{className:"bg-black/60 border border-white/10 rounded-xl p-4 font-mono text-xs text-muted-foreground",children:[e.jsx("span",{className:"text-blue-400",children:"Authorization:"})," Bearer ",e.jsx("span",{className:"text-primary",children:"YOUR_API_KEY"})]})]}),e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h4",{className:"font-display text-lg font-bold text-white mb-3",children:t("dashboard.aiSocial.api.createPost")}),e.jsx("div",{className:"bg-black/60 border border-white/10 rounded-xl p-4 font-mono text-xs text-muted-foreground whitespace-pre overflow-x-auto",children:`curl -X POST https://tord.social/api/posts \\
  -H "Authorization: Bearer YOUR_API_KEY" \\
  -H "Content-Type: application/json" \\
  -d '{
    "submolt": "general",
    "title": "Hello toRd!",
    "content": "My first post on toRd social!"
  }'`})]})]})]})}const K=[{id:"token-monitor",label:"Token Monitor",icon:fe,desc:"Monitor BSC tokens for price movements, whale transactions, and security changes",color:"text-blue-400"},{id:"market-analyst",label:"Market Analyst",icon:W,desc:"Analyze crypto markets with technical analysis, trends, and trading signals",color:"text-green-400"},{id:"content-writer",label:"Content Writer",icon:H,desc:"Generate crypto/DeFi social media posts, threads, and marketing content",color:"text-purple-400"},{id:"portfolio-tracker",label:"Portfolio Tracker",icon:M,desc:"Track portfolio positions, calculate PnL, and suggest rebalancing strategies",color:"text-yellow-400"},{id:"custom",label:"Custom Agent",icon:z,desc:"Build a custom AI agent with your own instructions and parameters",color:"text-primary"}];function Qe(){const{t}=C(),[r,d]=m.useState("list"),[n,i]=m.useState([]),[h,f]=m.useState(!1),[s,p]=m.useState(""),[l,b]=m.useState({name:"",description:"",systemPrompt:"",param1Key:"",param1Val:"",param2Key:"",param2Val:""}),[c,x]=m.useState(null),[a,g]=m.useState(""),[v,T]=m.useState(""),[$,R]=m.useState(!1),[u,j]=m.useState(!1),N=m.useCallback(async()=>{try{const w=await(await fetch("/api/agents")).json();i(w.agents||[])}catch{}},[]);m.useEffect(()=>{N()},[N]);const k=async()=>{if(!(!l.name.trim()||!s)){j(!0);try{const o={};l.param1Key.trim()&&(o[l.param1Key.trim()]=l.param1Val),l.param2Key.trim()&&(o[l.param2Key.trim()]=l.param2Val);const S=await(await fetch("/api/agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.name.trim(),type:s,description:l.description.trim(),systemPrompt:l.systemPrompt.trim()||void 0,parameters:o})})).json();S.agent&&(await N(),x(S.agent),d("detail"),b({name:"",description:"",systemPrompt:"",param1Key:"",param1Val:"",param2Key:"",param2Val:""}),p(""))}catch{}finally{j(!1)}}},O=async()=>{if(!(!c||$)){R(!0),T("");try{const w=await(await fetch(`/api/agents/${c.id}/run`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:a.trim()||void 0})})).json();w.error?T("Error: "+w.error):(T(w.result),x(w.agent),N())}catch{T("Error: Failed to connect to the server.")}finally{R(!1)}}},ie=async o=>{const w=o.status==="active"?"paused":"active";try{const F=await(await fetch(`/api/agents/${o.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:w})})).json();F.agent&&(N(),c?.id===o.id&&x(F.agent))}catch{}},oe=async o=>{try{await fetch(`/api/agents/${o}`,{method:"DELETE"}),N(),c?.id===o&&(x(null),d("list"))}catch{}},ne=o=>{switch(o){case"token-monitor":return"e.g. Monitor 0x... token for whale movements over $10k";case"market-analyst":return"e.g. Analyze BTC/USDT 4h chart and identify key support/resistance levels";case"content-writer":return"e.g. Write a Twitter thread about DeFi yield farming strategies";case"portfolio-tracker":return"e.g. I hold 2 BTC, 10 ETH, 5000 USDT - analyze my portfolio";default:return"Describe the task you want this agent to perform..."}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("h2",{className:"font-display text-xl sm:text-2xl font-bold text-white break-words",children:[t("dashboard.agentDeploy.title")," ",e.jsx("span",{className:"text-primary",children:t("dashboard.agentDeploy.titleHighlight")})]}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:t("dashboard.agentDeploy.subtitle")})]}),e.jsxs("div",{className:"flex gap-2 shrink-0",children:[r!=="list"&&e.jsxs(y,{size:"sm",variant:"outline",className:"border-white/20 text-white hover:bg-white/10",onClick:()=>{d("list"),x(null),T("")},children:[e.jsx(_,{className:"mr-1 h-4 w-4 rotate-180"})," ",t("dashboard.agentDeploy.allAgents")]}),e.jsxs(y,{"data-testid":"btn-new-agent",size:"sm",className:"bg-primary text-black hover:bg-primary/90 font-bold",onClick:()=>{d("create"),p("")},children:[e.jsx(Se,{className:"mr-1 h-4 w-4"})," ",t("dashboard.agentDeploy.newAgent")]})]})]}),r==="list"&&e.jsx("div",{className:"space-y-4",children:n.length===0?e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-12 text-center glass-card",children:[e.jsx(z,{className:"h-16 w-16 text-primary/30 mx-auto mb-4"}),e.jsx("h3",{className:"font-display text-xl font-bold text-white mb-2",children:t("dashboard.agentDeploy.noAgents")}),e.jsx("p",{className:"text-muted-foreground text-sm mb-6 max-w-md mx-auto",children:t("dashboard.agentDeploy.noAgentsDesc")}),e.jsxs(y,{"data-testid":"btn-deploy-first",className:"bg-primary text-black hover:bg-primary/90 font-bold",onClick:()=>d("create"),children:[e.jsx(G,{className:"mr-2 h-4 w-4"})," ",t("dashboard.agentDeploy.deployFirst")]})]}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.map(o=>{const w=K.find(F=>F.id===o.type)||K[4],S=w.icon;return e.jsxs("div",{"data-testid":`agent-card-${o.id}`,className:"rounded-2xl border border-white/10 bg-black/40 p-5 hover:border-primary/30 transition-all cursor-pointer glass-card",onClick:()=>{x(o),d("detail"),T(""),g("")},children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center ${w.color}`,children:e.jsx(S,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white text-sm",children:o.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:w.id==="token-monitor"?t("dashboard.agentDeploy.types.tokenMonitor"):w.id==="market-analyst"?t("dashboard.agentDeploy.types.marketAnalyst"):w.id==="content-writer"?t("dashboard.agentDeploy.types.contentWriter"):w.id==="portfolio-tracker"?t("dashboard.agentDeploy.types.portfolioTracker"):t("dashboard.agentDeploy.types.customAgent")})]})]}),e.jsx("span",{className:`text-[10px] font-mono px-2 py-0.5 rounded-full ${o.status==="active"?"bg-green-500/10 text-green-400 border border-green-500/20":o.status==="paused"?"bg-yellow-500/10 text-yellow-400 border border-yellow-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:o.status})]}),o.description&&e.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:o.description}),e.jsxs("div",{className:"flex items-center gap-4 text-[11px] text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(X,{className:"h-3 w-3"})," ",o.totalRuns," ",t("dashboard.agentDeploy.runs")]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ye,{className:"h-3 w-3"})," ",o.lastRun?new Date(o.lastRun).toLocaleString():t("dashboard.agentDeploy.never")]})]})]},o.id)})})}),r==="create"&&e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h3",{className:"font-display text-lg font-bold text-white mb-1",children:t("dashboard.agentDeploy.chooseType")}),e.jsx("p",{className:"text-muted-foreground text-sm mb-5",children:t("dashboard.agentDeploy.chooseTypeDesc")}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:K.map(o=>{const w=o.icon;return e.jsxs("button",{"data-testid":`agent-type-${o.id}`,onClick:()=>p(o.id),className:`text-left p-4 rounded-xl border transition-all ${s===o.id?"border-primary/50 bg-primary/5":"border-white/10 bg-white/5 hover:border-white/20"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(w,{className:`h-5 w-5 ${o.color}`}),e.jsx("span",{className:"font-bold text-white text-sm",children:o.id==="token-monitor"?t("dashboard.agentDeploy.types.tokenMonitor"):o.id==="market-analyst"?t("dashboard.agentDeploy.types.marketAnalyst"):o.id==="content-writer"?t("dashboard.agentDeploy.types.contentWriter"):o.id==="portfolio-tracker"?t("dashboard.agentDeploy.types.portfolioTracker"):t("dashboard.agentDeploy.types.customAgent")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o.id==="token-monitor"?t("dashboard.agentDeploy.types.tokenMonitorDesc"):o.id==="market-analyst"?t("dashboard.agentDeploy.types.marketAnalystDesc"):o.id==="content-writer"?t("dashboard.agentDeploy.types.contentWriterDesc"):o.id==="portfolio-tracker"?t("dashboard.agentDeploy.types.portfolioTrackerDesc"):t("dashboard.agentDeploy.types.customAgentDesc")})]},o.id)})})]}),s&&e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 space-y-4 glass-card",children:[e.jsx("h3",{className:"font-display text-lg font-bold text-white",children:t("dashboard.agentDeploy.configure")}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-muted-foreground block mb-1",children:[t("dashboard.agentDeploy.agentName")," *"]}),e.jsx("input",{"data-testid":"input-agent-name",value:l.name,onChange:o=>b({...l,name:o.target.value}),placeholder:t("dashboard.agentDeploy.agentNamePlaceholder"),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:t("dashboard.agentDeploy.description")}),e.jsx("input",{"data-testid":"input-agent-desc",value:l.description,onChange:o=>b({...l,description:o.target.value}),placeholder:t("dashboard.agentDeploy.descriptionPlaceholder"),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:t("dashboard.agentDeploy.systemPrompt")}),e.jsx("textarea",{"data-testid":"input-agent-prompt",value:l.systemPrompt,onChange:o=>b({...l,systemPrompt:o.target.value}),placeholder:t("dashboard.agentDeploy.systemPromptPlaceholder"),rows:3,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:t("dashboard.agentDeploy.param1Key")}),e.jsx("input",{value:l.param1Key,onChange:o=>b({...l,param1Key:o.target.value}),placeholder:"e.g. token_address",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:t("dashboard.agentDeploy.param1Value")}),e.jsx("input",{value:l.param1Val,onChange:o=>b({...l,param1Val:o.target.value}),placeholder:"e.g. 0x...",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:t("dashboard.agentDeploy.param2Key")}),e.jsx("input",{value:l.param2Key,onChange:o=>b({...l,param2Key:o.target.value}),placeholder:"e.g. threshold",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:t("dashboard.agentDeploy.param2Value")}),e.jsx("input",{value:l.param2Val,onChange:o=>b({...l,param2Val:o.target.value}),placeholder:"e.g. 10000",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors"})]})]}),e.jsxs(y,{"data-testid":"btn-deploy-agent",onClick:k,disabled:!l.name.trim()||u,className:"w-full bg-primary text-black hover:bg-primary/90 font-bold py-3",children:[u?e.jsx(A,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(G,{className:"h-4 w-4 mr-2"}),t("dashboard.agentDeploy.deployAgent")]})]})]}),r==="detail"&&c&&(()=>{const o=K.find(S=>S.id===c.type)||K[4],w=o.icon;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center ${o.color}`,children:e.jsx(w,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-display text-xl font-bold text-white",children:c.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.id==="token-monitor"?t("dashboard.agentDeploy.types.tokenMonitor"):o.id==="market-analyst"?t("dashboard.agentDeploy.types.marketAnalyst"):o.id==="content-writer"?t("dashboard.agentDeploy.types.contentWriter"):o.id==="portfolio-tracker"?t("dashboard.agentDeploy.types.portfolioTracker"):t("dashboard.agentDeploy.types.customAgent")," Â· ",c.totalRuns," ",t("dashboard.agentDeploy.runs")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(y,{size:"sm",variant:"outline",className:"border-white/20 text-white hover:bg-white/10",onClick:()=>ie(c),children:[c.status==="active"?e.jsx(Oe,{className:"h-4 w-4 mr-1"}):e.jsx(Z,{className:"h-4 w-4 mr-1"}),c.status==="active"?t("dashboard.agentDeploy.pause"):t("dashboard.agentDeploy.resume")]}),e.jsx(y,{size:"sm",variant:"outline",className:"border-red-500/20 text-red-400 hover:bg-red-500/10",onClick:()=>oe(c.id),children:e.jsx(He,{className:"h-4 w-4"})})]})]}),c.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:c.description}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:t("dashboard.agentDeploy.status")}),e.jsx("p",{className:`text-sm font-bold mt-1 ${c.status==="active"?"text-green-400":c.status==="paused"?"text-yellow-400":"text-red-400"}`,children:c.status})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:t("dashboard.agentDeploy.totalRuns")}),e.jsx("p",{className:"text-sm font-bold text-white mt-1",children:c.totalRuns})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:t("dashboard.agentDeploy.lastRun")}),e.jsx("p",{className:"text-sm font-bold text-white mt-1",children:c.lastRun?new Date(c.lastRun).toLocaleTimeString():t("dashboard.agentDeploy.never")})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h4",{className:"font-display text-lg font-bold text-white mb-3",children:t("dashboard.agentDeploy.runTask")}),e.jsx("textarea",{"data-testid":"input-task",value:a,onChange:S=>g(S.target.value),placeholder:ne(c.type),rows:3,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors resize-none mb-3"}),e.jsxs(y,{"data-testid":"btn-run-task",onClick:O,disabled:$||c.status==="paused",className:"w-full bg-primary text-black hover:bg-primary/90 font-bold",children:[$?e.jsx(A,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(Z,{className:"h-4 w-4 mr-2"}),t($?"dashboard.agentDeploy.running":"dashboard.agentDeploy.runTask")]}),c.status==="paused"&&e.jsx("p",{className:"text-xs text-yellow-400 mt-2 text-center",children:t("dashboard.agentDeploy.resumeNote")})]}),v&&e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-display text-lg font-bold text-white",children:t("dashboard.agentDeploy.taskResult")}),e.jsxs(y,{size:"sm",variant:"ghost",className:"text-muted-foreground hover:text-white",onClick:()=>{navigator.clipboard.writeText(v)},children:[e.jsx(re,{className:"h-4 w-4 mr-1"})," ",t("dashboard.agentDeploy.copy")]})]}),e.jsx("div",{className:"bg-black/60 border border-white/10 rounded-xl p-4 max-h-96 overflow-y-auto",children:e.jsx("pre",{className:"text-sm text-muted-foreground whitespace-pre-wrap font-mono leading-relaxed",children:v})})]}),e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsx("h4",{className:"font-display text-lg font-bold text-white mb-3",children:t("dashboard.agentDeploy.activityLog")}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:(c.logs||[]).slice().reverse().map((S,F)=>e.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[S.type==="success"?e.jsx(Ne,{className:"h-3.5 w-3.5 text-green-400 mt-0.5 shrink-0"}):S.type==="error"?e.jsx(je,{className:"h-3.5 w-3.5 text-red-400 mt-0.5 shrink-0"}):e.jsx(X,{className:"h-3.5 w-3.5 text-blue-400 mt-0.5 shrink-0"}),e.jsx("span",{className:"text-muted-foreground",children:new Date(S.timestamp).toLocaleTimeString()}),e.jsx("span",{className:"text-white",children:S.message})]},F))})]})]})})()]})}function et({walletAddress:t,onConnect:r}){const{t:d}=C(),[n,i]=m.useState(null),[h,f]=m.useState(""),[s,p]=m.useState(!0),l=[{id:1,name:"TORD-BNB",protocol:"PancakeSwap",apy:142.5,tvl:245e4,risk:"medium",tokens:["TORD","BNB"],rewards:"TORD + CAKE",dailyYield:.39,boosted:!0,strategy:d("dashboard.yieldFarming.strategyAutoCompound")},{id:2,name:"TORD-USDT",protocol:"PancakeSwap",apy:89.3,tvl:18e5,risk:"low",tokens:["TORD","USDT"],rewards:"TORD",dailyYield:.24,boosted:!1,strategy:d("dashboard.yieldFarming.strategyStable")},{id:3,name:"BNB-USDT",protocol:"Venus",apy:45.8,tvl:52e5,risk:"low",tokens:["BNB","USDT"],rewards:"XVS",dailyYield:.13,boosted:!1,strategy:d("dashboard.yieldFarming.strategyLending")},{id:4,name:"TORD Single Stake",protocol:"Tord Labs",apy:220,tvl:89e4,risk:"high",tokens:["TORD"],rewards:"TORD",dailyYield:.6,boosted:!0,strategy:d("dashboard.yieldFarming.strategySingleStake")},{id:5,name:"CAKE-BNB",protocol:"PancakeSwap",apy:62.1,tvl:89e5,risk:"low",tokens:["CAKE","BNB"],rewards:"CAKE",dailyYield:.17,boosted:!1,strategy:d("dashboard.yieldFarming.strategyAutoCompound")},{id:6,name:"ETH-BNB",protocol:"BiSwap",apy:38.4,tvl:31e5,risk:"low",tokens:["ETH","BNB"],rewards:"BSW",dailyYield:.11,boosted:!1,strategy:d("dashboard.yieldFarming.strategyDualReward")}],b=a=>a==="low"?"text-green-400 bg-green-500/10 border-green-500/20":a==="medium"?"text-yellow-400 bg-yellow-500/10 border-yellow-500/20":"text-red-400 bg-red-500/10 border-red-500/20",c=l.reduce((a,g)=>a+g.tvl,0),x=l.reduce((a,g)=>a+g.apy,0)/l.length;return e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/40 p-4 glass-card","data-testid":"stat-total-tvl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(De,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:d("dashboard.yieldFarming.totalTvl")})]}),e.jsxs("p",{className:"text-xl font-display font-bold text-white",children:["$",(c/1e6).toFixed(1),"M"]})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/40 p-4 glass-card","data-testid":"stat-avg-apy",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ee,{className:"h-4 w-4 text-green-400"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:d("dashboard.yieldFarming.avgApy")})]}),e.jsxs("p",{className:"text-xl font-display font-bold text-green-400",children:[x.toFixed(1),"%"]})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/40 p-4 glass-card","data-testid":"stat-active-vaults",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(E,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:d("dashboard.yieldFarming.activeVaults")})]}),e.jsx("p",{className:"text-xl font-display font-bold text-white",children:l.length})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/40 p-4 glass-card","data-testid":"stat-your-deposits",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(L,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:d("dashboard.yieldFarming.yourDeposits")})]}),e.jsx("p",{className:"text-xl font-display font-bold text-white",children:"$0.00"})]})]}),e.jsx("div",{className:"rounded-2xl border border-primary/20 bg-gradient-to-r from-primary/5 to-amber-500/5 p-5 glass-card","data-testid":"ai-optimizer-banner",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/20 flex items-center justify-center shrink-0",children:e.jsx($e,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-display text-sm font-bold text-white",children:d("dashboard.yieldFarming.aiOptimizer")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d("dashboard.yieldFarming.aiOptimizerDesc")})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:d("dashboard.yieldFarming.autoCompound")}),e.jsx("button",{onClick:()=>p(!s),className:`w-10 h-5 rounded-full transition-colors relative ${s?"bg-primary":"bg-white/20"}`,"data-testid":"toggle-auto-compound",children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white absolute top-0.5 transition-all ${s?"left-5.5":"left-0.5"}`})})]})})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-display text-lg font-bold text-white",children:d("dashboard.yieldFarming.availableVaults")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:d("dashboard.yieldFarming.sortBy")}),e.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-lg px-2 py-1 text-xs text-white focus:outline-none","data-testid":"select-sort-vaults",children:[e.jsx("option",{value:"apy",children:d("dashboard.yieldFarming.highestApy")}),e.jsx("option",{value:"tvl",children:d("dashboard.yieldFarming.highestTvl")}),e.jsx("option",{value:"risk",children:d("dashboard.yieldFarming.lowestRisk")})]})]})]}),e.jsx("div",{className:"grid gap-3",children:l.map(a=>e.jsxs("div",{className:`rounded-xl border bg-black/40 p-4 sm:p-5 glass-card transition-all cursor-pointer ${n===a.id?"border-primary/40 bg-primary/5":"border-white/10 hover:border-white/20"}`,onClick:()=>i(n===a.id?null:a.id),"data-testid":`vault-card-${a.id}`,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center shrink-0",children:e.jsx(E,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-display text-sm font-bold text-white",children:a.name}),a.boosted&&e.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-primary/10 text-primary border border-primary/20 font-medium",children:[e.jsx(G,{className:"h-2.5 w-2.5 inline mr-0.5"}),d("dashboard.yieldFarming.boosted")]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.protocol," â€¢ ",a.strategy]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:"APY"}),e.jsxs("p",{className:"text-lg font-display font-bold text-green-400",children:[a.apy,"%"]})]}),e.jsxs("div",{className:"text-center hidden sm:block",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:d("dashboard.yieldFarming.daily")}),e.jsxs("p",{className:"text-sm font-bold text-white",children:[a.dailyYield,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:"TVL"}),e.jsxs("p",{className:"text-sm font-bold text-white",children:["$",(a.tvl/1e6).toFixed(1),"M"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:d("dashboard.yieldFarming.risk")}),e.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border font-medium capitalize ${b(a.risk)}`,children:d(`dashboard.yieldFarming.risk${a.risk.charAt(0).toUpperCase()+a.risk.slice(1)}`)})]}),e.jsx(ue,{className:`h-4 w-4 text-muted-foreground transition-transform hidden sm:block ${n===a.id?"rotate-180":""}`})]})]}),n===a.id&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 space-y-4",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"rounded-lg bg-white/5 p-3",children:[e.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider mb-1",children:d("dashboard.yieldFarming.rewards")}),e.jsx("p",{className:"text-sm font-bold text-white",children:a.rewards})]}),e.jsxs("div",{className:"rounded-lg bg-white/5 p-3",children:[e.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider mb-1",children:d("dashboard.yieldFarming.dailyYield")}),e.jsxs("p",{className:"text-sm font-bold text-green-400",children:[a.dailyYield,"%"]})]}),e.jsxs("div",{className:"rounded-lg bg-white/5 p-3",children:[e.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider mb-1",children:d("dashboard.yieldFarming.compounding")}),e.jsx("p",{className:"text-sm font-bold text-white",children:d(s?"dashboard.yieldFarming.auto":"dashboard.yieldFarming.manual")})]}),e.jsxs("div",{className:"rounded-lg bg-white/5 p-3",children:[e.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider mb-1",children:d("dashboard.yieldFarming.riskScore")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ge,{className:`h-3.5 w-3.5 ${a.risk==="low"?"text-green-400":a.risk==="medium"?"text-yellow-400":"text-red-400"}`}),e.jsx("p",{className:`text-sm font-bold ${a.risk==="low"?"text-green-400":a.risk==="medium"?"text-yellow-400":"text-red-400"}`,children:a.risk==="low"?"A+":a.risk==="medium"?"B":"C"})]})]})]}),t?e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{value:h,onChange:g=>f(g.target.value),placeholder:d("dashboard.yieldFarming.enterAmount"),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50",type:"number","data-testid":`input-deposit-${a.id}`}),e.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-primary font-bold","data-testid":`btn-max-${a.id}`,children:"MAX"})]}),e.jsxs(y,{className:"bg-primary text-black hover:bg-primary/90 font-bold px-8","data-testid":`btn-deposit-${a.id}`,children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),d("dashboard.yieldFarming.deposit")]}),e.jsx(y,{variant:"outline",className:"border-white/20 text-white hover:bg-white/10","data-testid":`btn-withdraw-${a.id}`,children:d("dashboard.yieldFarming.withdraw")})]}):e.jsxs(y,{onClick:r,className:"w-full bg-primary text-black hover:bg-primary/90 font-bold neon-snake-btn","data-testid":"btn-connect-vault",children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),d("dashboard.yieldFarming.connectToDeposit")]}),e.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-blue-500/5 border border-blue-500/10",children:[e.jsx(Fe,{className:"h-3.5 w-3.5 text-blue-400 mt-0.5 shrink-0"}),e.jsx("p",{className:"text-xs text-blue-300/70",children:d("dashboard.yieldFarming.vaultInfo")})]})]})]},a.id))})]}),e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card","data-testid":"yield-info-section",children:[e.jsx("h3",{className:"font-display text-lg font-bold text-white mb-4",children:d("dashboard.yieldFarming.howItWorks")}),e.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center shrink-0 text-primary font-display font-bold text-sm",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:d("dashboard.yieldFarming.step1Title")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d("dashboard.yieldFarming.step1Desc")})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center shrink-0 text-primary font-display font-bold text-sm",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:d("dashboard.yieldFarming.step2Title")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d("dashboard.yieldFarming.step2Desc")})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center shrink-0 text-primary font-display font-bold text-sm",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:d("dashboard.yieldFarming.step3Title")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d("dashboard.yieldFarming.step3Desc")})]})]})]})]})]})}export{nt as default};
